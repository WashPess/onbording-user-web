<div class="table-responsive shadow border rounded-4 p-4 bg-white">
  <div class="border-bottom mb-4 pb-3 d-flex flex-row justify-content-between">
    <h3>Lista de Empresas</h3>

    <div class="d-flex flex-row gap-4">

      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" checked>
        <label class="form-check-label" for="flexSwitchCheckChecked">Inativos/Ativos</label>
      </div>

      <div>
        <button class="btn btn-sm btn-primary" (click)="openEnterpriseForm(null)">
          <i class="bi bi-plus me-2"></i>Novo
        </button>
      </div>

    </div>

  </div>

  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col" class="text-center">Uuid</th>
        <th scope="col">Companhia</th>
        <th scope="col">Endereço</th>
        <th scope="col">CNPJ</th>
        <th scope="col">Razão Social</th>
        <th scope="col">Canais de Comunição</th>
        <th scope="col">Status</th>
        <th scope="col" class="text-center">Ações</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let enterprise of enterprisesFiltred; let i = index">
        <tr>
          <td class="text-center">
            <span *ngIf="showUuid[enterprise.uuid]; else hiddenUuid">{{ enterprise.uuid }}</span>
            <ng-template #hiddenUuid>****</ng-template>
            <button class="btn btn-link p-0" (click)="toggleUuidVisibility(enterprise.uuid)">
              <i [class.bi-eye]="!showUuid[enterprise.uuid]" [class.bi-eye-slash]="showUuid[enterprise.uuid]"></i>
            </button>
          </td>
          <td>{{ enterprise.company }}</td>
          <td>{{ enterprise.address }}</td>
          <td>{{ enterprise.cnpj }}</td>
          <td>{{ enterprise.corporateReason }}</td>
          <td>{{ enterprise.communicationChannel }}</td>
          <td>{{ enterprise.status }}</td>
          <td>
            <div class="d-flex flex-row gap-2 justify-content-center">
              <button class="btn btn-primary rounded-circle" (click)="openEnterpriseForm(enterprise, 'edit')">
                <i class="bi bi-pencil-square"></i>
              </button>
              <button class="btn btn-danger rounded-circle" (click)="deleteEnterprise(enterprise)">
                <i class="bi bi-trash3"></i>
              </button>
            </div>
          </td>
        </tr>
      </ng-container>
    </tbody>
  </table>
</div>
